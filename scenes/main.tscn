[gd_scene load_steps=14 format=1]

[ext_resource path="res://scripts/main.gd" type="Script" id=1]
[ext_resource path="res://assets/background.png" type="Texture" id=2]
[ext_resource path="res://assets/tiles.tres" type="TileSet" id=3]
[ext_resource path="res://scenes/player.tscn" type="PackedScene" id=4]
[ext_resource path="res://scenes/pendulum_v2.tscn" type="PackedScene" id=5]
[ext_resource path="res://scenes/barrel.tscn" type="PackedScene" id=6]
[ext_resource path="res://scenes/rotating_cog_cw.tscn" type="PackedScene" id=7]
[ext_resource path="res://assets/tile_1.png" type="Texture" id=8]
[ext_resource path="res://scenes/rotating_cog.tscn" type="PackedScene" id=9]

[sub_resource type="RectangleShape2D" id=1]

custom_solver_bias = 0.0
extents = Vector2( 31.9394, 7.73436 )

[sub_resource type="Animation" id=2]

resource/name = "lift"
length = 4.0
loop = true
step = 0.1
tracks/0/type = "value"
tracks/0/path = NodePath(".:transform/pos")
tracks/0/interp = 1
tracks/0/imported = false
tracks/0/keys = { "times":FloatArray( 0, 2, 4 ), "transitions":FloatArray( 1, 1, 1 ), "update":0, "values":[ Vector2( 921, 456 ), Vector2( 921, 296 ), Vector2( 921, 456 ) ] }

[sub_resource type="RectangleShape2D" id=3]

custom_solver_bias = 0.0
extents = Vector2( 31.791, 7.29662 )

[sub_resource type="Animation" id=4]

resource/name = "slide"
length = 4.0
loop = true
step = 0.1
tracks/0/type = "value"
tracks/0/path = NodePath(".:transform/pos")
tracks/0/interp = 1
tracks/0/imported = false
tracks/0/keys = { "times":FloatArray( 0, 2, 4 ), "transitions":FloatArray( 1, 1, 1 ), "update":0, "values":[ Vector2( 280, 216 ), Vector2( 156, 216 ), Vector2( 280, 216 ) ] }

[node name="Node2D" type="Node2D"]

script/script = ExtResource( 1 )

[node name="background" type="Sprite" parent="."]

transform/pos = Vector2( 563.835, 241.848 )
transform/scale = Vector2( 1.54396, 1.54396 )
texture = ExtResource( 2 )
__meta__ = { "_edit_lock_":true }

[node name="TileMap" type="TileMap" parent="."]

mode = 0
tile_set = ExtResource( 3 )
cell/size = Vector2( 16, 16 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 1
collision/mask = 1
occluder/light_mask = 1
tile_data = IntArray( 0, 0, 63, 0, 65536, 0, 65599, 0, 131072, 0, 131135, 0, 196608, 0, 196671, 0, 262144, 0, 262207, 0, 327680, 0, 327743, 0, 393216, 0, 393279, 0, 458752, 0, 458815, 0, 524288, 0, 524351, 0, 589824, 0, 589887, 0, 655360, 0, 655423, 0, 720896, 0, 720959, 0, 786432, 0, 786495, 0, 851968, 0, 851974, 0, 851975, 0, 851976, 0, 851989, 0, 851990, 0, 851991, 0, 851992, 0, 851993, 0, 851994, 0, 851995, 0, 851996, 0, 851997, 0, 851998, 0, 851999, 0, 852000, 0, 852031, 0, 917504, 0, 917567, 0, 983040, 0, 983103, 0, 1048576, 0, 1048639, 0, 1114112, 0, 1114175, 0, 1179648, 0, 1179700, 0, 1179701, 0, 1179702, 0, 1179703, 0, 1179704, 0, 1179711, 0, 1245184, 0, 1245247, 0, 1310720, 0, 1310783, 0, 1376256, 0, 1376319, 0, 1441792, 0, 1441855, 0, 1507328, 0, 1507391, 0, 1572864, 0, 1572927, 0, 1638400, 0, 1638463, 0, 1703936, 0, 1703999, 0, 1769472, 0, 1769535, 0, 1835008, 0, 1835033, 0, 1835034, 0, 1835035, 0, 1835036, 0, 1835037, 0, 1835060, 0, 1835061, 0, 1835062, 0, 1835063, 0, 1835064, 0, 1835071, 0, 1900544, 0, 1900590, 0, 1900591, 0, 1900592, 0, 1900593, 0, 1900594, 0, 1900595, 0, 1900596, 0, 1900600, 0, 1900601, 1, 1900602, 1, 1900603, 1, 1900604, 1, 1900605, 1, 1900606, 1, 1900607, 0, 1966080, 0, 1966126, 0, 1966136, 0, 1966137, 0, 1966138, 0, 1966139, 0, 1966140, 0, 1966141, 0, 1966142, 0, 1966143, 0, 2031616, 0, 2031636, 0, 2031637, 0, 2031638, 0, 2031639, 0, 2031659, 0, 2031660, 0, 2031661, 0, 2031662, 0, 2031679, 0, 2097152, 0, 2097195, 0, 2097215, 0, 2162688, 0, 2162731, 0, 2162751, 0, 2228224, 0, 2228239, 0, 2228240, 0, 2228241, 0, 2228242, 0, 2228267, 0, 2228287, 0, 2293760, 0, 2293775, 0, 2293778, 0, 2293803, 0, 2293823, 0, 2359296, 0, 2359311, 0, 2359314, 0, 2359315, 1, 2359316, 1, 2359317, 1, 2359318, 1, 2359319, 1, 2359320, 1, 2359321, 1, 2359322, 1, 2359323, 1, 2359324, 1, 2359325, 1, 2359326, 1, 2359327, 1, 2359328, 1, 2359329, 1, 2359330, 1, 2359331, 1, 2359332, 1, 2359333, 1, 2359334, 1, 2359335, 1, 2359336, 1, 2359337, 1, 2359338, 1, 2359339, 0, 2359359, 0, 2424832, 0, 2424833, 0, 2424834, 0, 2424835, 0, 2424836, 0, 2424837, 0, 2424838, 0, 2424839, 0, 2424840, 0, 2424841, 0, 2424842, 0, 2424843, 0, 2424844, 0, 2424845, 0, 2424846, 0, 2424847, 0, 2424850, 0, 2424851, 0, 2424852, 0, 2424853, 0, 2424854, 0, 2424855, 0, 2424856, 0, 2424857, 0, 2424858, 0, 2424859, 0, 2424860, 0, 2424861, 0, 2424862, 0, 2424863, 0, 2424864, 0, 2424865, 0, 2424866, 0, 2424867, 0, 2424868, 0, 2424869, 0, 2424870, 0, 2424871, 0, 2424872, 0, 2424873, 0, 2424874, 0, 2424875, 0, 2424876, 0, 2424877, 0, 2424878, 0, 2424879, 0, 2424880, 0, 2424881, 0, 2424882, 0, 2424883, 0, 2424884, 0, 2424885, 0, 2424886, 0, 2424887, 0, 2424888, 0, 2424889, 0, 2424890, 0, 2424891, 0, 2424892, 0, 2424893, 0, 2424894, 0, 2424895, 0 )
__meta__ = { "_edit_lock_":true }

[node name="player" parent="." instance=ExtResource( 4 )]

transform/pos = Vector2( 45.7212, 569.686 )

[node name="pendulum_v2_a" parent="." instance=ExtResource( 5 )]

transform/pos = Vector2( 371.661, 321.34 )

[node name="barrel" parent="." instance=ExtResource( 6 )]

transform/pos = Vector2( 634.928, 477.624 )
velocity/linear = Vector2( -100, 0 )
velocity/angular = 25.0
damp_override/linear = -1.0
damp_override/angular = -1.0

[node name="rotating_cog_cw" parent="." instance=ExtResource( 7 )]

transform/pos = Vector2( 570.996, 430.787 )
transform/scale = Vector2( 0.5, 0.5 )

[node name="elevator_a" type="KinematicBody2D" parent="."]

transform/pos = Vector2( 921, 296 )
input/pickable = false
shapes/0/shape = SubResource( 1 )
shapes/0/transform = Matrix32( 1, 0, 0, 1, 24.075, -0.104677 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
collision/margin = 0.08

[node name="Sprite" type="Sprite" parent="elevator_a"]

texture = ExtResource( 8 )

[node name="Sprite 2" type="Sprite" parent="elevator_a"]

transform/pos = Vector2( 16, 0 )
texture = ExtResource( 8 )

[node name="Sprite 3" type="Sprite" parent="elevator_a"]

transform/pos = Vector2( 32, 0 )
texture = ExtResource( 8 )

[node name="Sprite 4" type="Sprite" parent="elevator_a"]

transform/pos = Vector2( 48, 0 )
texture = ExtResource( 8 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="elevator_a"]

transform/pos = Vector2( 24.075, -0.104677 )
transform/scale = Vector2( 1, 1 )
shape = SubResource( 1 )
trigger = false
_update_shape_index = 0

[node name="AnimationPlayer" type="AnimationPlayer" parent="elevator_a"]

playback/process_mode = 1
playback/default_blend_time = 0.0
root/root = NodePath("..")
anims/lift = SubResource( 2 )
playback/active = true
playback/speed = 1.0
blend_times = [  ]
autoplay = "lift"

[node name="elevator_a1" type="KinematicBody2D" parent="."]

transform/pos = Vector2( 921, 296 )
input/pickable = false
shapes/0/shape = SubResource( 1 )
shapes/0/transform = Matrix32( 1, 0, 0, 1, 24.075, -0.104677 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
collision/margin = 0.08

[node name="Sprite" type="Sprite" parent="elevator_a1"]

texture = ExtResource( 8 )

[node name="Sprite 2" type="Sprite" parent="elevator_a1"]

transform/pos = Vector2( 16, 0 )
texture = ExtResource( 8 )

[node name="Sprite 3" type="Sprite" parent="elevator_a1"]

transform/pos = Vector2( 32, 0 )
texture = ExtResource( 8 )

[node name="Sprite 4" type="Sprite" parent="elevator_a1"]

transform/pos = Vector2( 48, 0 )
texture = ExtResource( 8 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="elevator_a1"]

transform/pos = Vector2( 24.075, -0.104677 )
transform/scale = Vector2( 1, 1 )
shape = SubResource( 1 )
trigger = false
_update_shape_index = 0

[node name="AnimationPlayer" type="AnimationPlayer" parent="elevator_a1"]

playback/process_mode = 1
playback/default_blend_time = 0.0
root/root = NodePath("..")
anims/lift = SubResource( 2 )
playback/active = true
playback/speed = 1.0
blend_times = [  ]
autoplay = "lift"

[node name="rotating_cog" parent="." instance=ExtResource( 9 )]

transform/pos = Vector2( 691.456, 242.177 )

[node name="pendulum_v2_b" parent="." instance=ExtResource( 5 )]

editor/display_folded = true
transform/pos = Vector2( 418.312, 90.224 )

[node name="h_elevator" type="KinematicBody2D" parent="."]

transform/pos = Vector2( 181.917, 216 )
input/pickable = false
shapes/0/shape = SubResource( 3 )
shapes/0/transform = Matrix32( 1, 0, 0, 1, 23.9488, -0.316392 )
shapes/0/trigger = false
collision/layers = 1
collision/mask = 1
collision/margin = 0.08

[node name="Sprite" type="Sprite" parent="h_elevator"]

texture = ExtResource( 8 )

[node name="Sprite1" type="Sprite" parent="h_elevator"]

transform/pos = Vector2( 16, 0 )
texture = ExtResource( 8 )

[node name="Sprite2" type="Sprite" parent="h_elevator"]

transform/pos = Vector2( 32, 0 )
texture = ExtResource( 8 )

[node name="Sprite3" type="Sprite" parent="h_elevator"]

transform/pos = Vector2( 48, 0 )
texture = ExtResource( 8 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="h_elevator"]

transform/pos = Vector2( 23.9488, -0.316392 )
shape = SubResource( 3 )
trigger = false
_update_shape_index = 0

[node name="AnimationPlayer" type="AnimationPlayer" parent="h_elevator"]

playback/process_mode = 1
playback/default_blend_time = 0.0
root/root = NodePath("..")
anims/slide = SubResource( 4 )
playback/active = true
playback/speed = 1.0
blend_times = [  ]
autoplay = "slide"

[node name="spikes" type="Sprite" parent="."]

[connection signal="body_enter" from="barrel/Area2D" to="." method="_on_Area2D_body_enter_barrel"]


[editable path="player"]
[editable path="barrel"]
